<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
var node = false;
</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="svg.panzoom.js"></script>
<script type="text/javascript" src="triangle.js"></script>
<script type="text/javascript">
	$(function() {
		var triangle = new Triangle(null, 0, 400, 400);
		triangle.draw();
		var lastZoomFactor = 1;
		var zoomLevel = 0;
		var zoom = function(newZoomFactor) {
			//console.log(newZoomFactor);
			
			if(lastZoomFactor != newZoomFactor) {
				if( lastZoomFactor > newZoomFactor){
				    zoomLevel--;
					triangle.removeChildren();
				} else{
				    zoomLevel++;
					triangle.createChildren();
				}
				
			if(zoomLevel > 8 || zoomLevel < -2) 
			{
			console.log(lastZoomFactor);
			console.log(newZoomFactor);
			}
				lastZoomFactor = newZoomFactor;
			}
				//console.log(zoomLevel);
		};
	
        var svgPanZoom = $("svg").svgPanZoom();
        svgPanZoom.events.mouseWheel= true;
		svgPanZoom.maxZoom = 6;
		svgPanZoom.animationTime = 0;
		svgPanZoom.onZoom = zoom;
		
		
    });
	
	
</script>
</head>
<body>

<svg height="400" width="400" viewBox="0 0 400 400"xmlns=" http://www.w3.org/2000/svg"  version="1.1">
  
</svg>

</body>
</html>
